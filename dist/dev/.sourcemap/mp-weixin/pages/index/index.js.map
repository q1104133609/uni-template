{"version":3,"sources":["webpack:///./src/pages/index/index.vue?d8ba","webpack:///./src/pages/index/index.vue?d160","webpack:///./src/main.ts","webpack:///./src/pages/index/index.vue","webpack:///./src/pages/index/index.vue?0275","webpack:///./src/pages/index/index.vue?e93f","webpack:///./src/pages/index/index.vue?78ab","webpack:///./src/pages/index/index.vue?e69b"],"names":[],"mappings":"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","file":"pages/index/index.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=1badc801&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=1badc801&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1589972098567\n      var cssReload = require(\"/Users/huangbo/Desktop/money/讯飞/uniapp/computer/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=1badc801&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=1badc801&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1badc801\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"src/pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=1badc801&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.isfocus = false\n      _vm.searchWodr = \"\"\n      _vm.isRecord = false\n    }\n\n    _vm.e1 = function($event) {\n      _vm.isfocus = true\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-2!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-1!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-2!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=ts&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport mycontent from \"@/components/mycontent.vue\";\nimport myBlock from \"@/components/block.vue\";\nimport Recode from \"@/components/recode.vue\";\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\n//@ts-ignore\nimport CryptoJS from \"../../../node_modules/crypto-js/crypto-js.js\";\nimport { getAuth } from \"../../utils/util\";\nimport { get } from \"../../plugins/request\";\n//@ts-ignore\nconst base64 = require(\"@/utils/base64.js\");\n@Component({ components: { mycontent, myBlock, Recode }, name: \"Index\" })\nexport default class Index extends Vue {\n  recorderManager = uni.getRecorderManager();\n  items: any[] = [];\n  isLastFrame = false; //是否最后一帧\n  firstSend = true; //是否第一次\n  isfocus = false; //是否有焦点\n  isAnimotion = false;\n  isConnectSuccess = false; //是否成功\n  height = `calc(100vh - ${getApp().globalData!.CustomBar + 320}rpx)`;\n  searchWodr = \"\"; //搜索内容\n  options = {\n    duration: 1000 * 60,\n    sampleRate: 16000,\n    numberOfChannels: 1,\n    encodeBitRate: 48000,\n    format: \"mp3\",\n    frameSize: 1.5\n  };\n  queryCommonTips: any[] = [];\n  xfInfo: any = {};\n  employeeInfo: any = {};\n  innerAudioContext = uni.createInnerAudioContext();\n  intervalTime = 0;\n  timer: any = null;\n  isRecord = false;\n\n  async created() {\n    get(\"/api/public/wechat/tip/content/config/queryCommonTips\").then(v => {\n      this.queryCommonTips = v.rows;\n    });\n    if (getAuth()) {\n      let res = await get(\"/api/wechat/init/info/query\");\n      this.employeeInfo = res.employeeInfo;\n      this.xfInfo = res.xfyunAuthConfig;\n      getApp().globalData!!.userName = res.employeeInfo.userName;\n    }\n    //录音开始\n    this.recorderManager.onStart(() => {\n      this.isConnectSuccess = false;\n      this.isLastFrame = false;\n      this.searchWodr = \"\";\n      this.isfocus = false;\n      this.items = [];\n    });\n    //录音结束\n    this.recorderManager.onStop(res => {\n      if (!this.isConnectSuccess) {\n        this.isAnimotion = false;\n        this.isRecord = false;\n      }\n    });\n    //录音回调\n    this.recorderManager.onFrameRecorded((res: any) => {\n      const { frameBuffer, isLastFrame } = res;\n      let params: any = {\n        common: { app_id: this.xfInfo.appId },\n        business: {\n          language: \"zh_cn\", //小语种可在控制台--语音听写(流式)--方言/语种处添加试用\n          domain: \"iat\",\n          accent: \"mandarin\", //中文方言可在控制台--语音听写(流式)--方言/语种处添加试用\n          vad_eos: 1000,\n          dwa: \"wpgs\"\n        },\n        data: {\n          status: 0,\n          format: \"audio/L16;rate=16000\",\n          encoding: \"lame\",\n          audio: uni.arrayBufferToBase64(frameBuffer)\n        }\n      };\n      // 拼接数据\n      let status = 0;\n      if (this.firstSend) {\n        this.firstSend = false;\n      } else {\n        if (isLastFrame) {\n          status = 2;\n        } else {\n          status = 1;\n        }\n      }\n      params.data.status = status;\n      console.log(\"发送参数:\", params);\n      uni.sendSocketMessage({\n        data: JSON.stringify(params),\n        success: data => {\n          console.log(\"send success:\" + JSON.stringify(data));\n        },\n        fail: err => {\n          this.isLastFrame = true;\n          this.onRecordOver();\n          console.log(\"send error:\" + JSON.stringify(err));\n        },\n        complete: () => {\n          if (isLastFrame) {\n            this.isLastFrame = true;\n          }\n        }\n      });\n    });\n  }\n\n  //搜索数据\n  async getData() {\n    if (this.searchWodr) {\n      const res = await get(\"/api/wechat/app/search/index/query\", {\n        searchParam: this.searchWodr\n      });\n      if (res.success) {\n        if (res.rows.length === 1) {\n          getApp().globalData!.url = res.rows[0].appUrl;\n          getApp().globalData!.title = res.rows[0].appName;\n          getApp().globalData!.viewAppId = res.rows[0].id;\n          uni.navigateTo({\n            url: \"/pages/webview/webview\",\n            success: () => {\n              let naTo = setInterval(() => {\n                clearInterval(naTo);\n                this.items = res.rows;\n              }, 500);\n            }\n          });\n        } else {\n          this.items = res.rows;\n        }\n      }\n    }\n  }\n\n  //监听socket\n  mounted() {\n    uni.onSocketOpen(data => {\n      console.log(\"服务连接成功\");\n      this.isConnectSuccess = true;\n    });\n    uni.onSocketError(err => {\n      console.log(\"服务连接失败，请重试\");\n    });\n\n    uni.onSocketMessage((res: any) => {\n      console.log(\"收到服务器返回消息\", res);\n      let reponse = JSON.parse(res.data);\n      if (reponse.code === 0) {\n        let word = \"\";\n        reponse.data.result.ws.forEach(({ cw }: any) => {\n          cw.forEach(({ w }: any) => {\n            word += w;\n          });\n        });\n        this.searchWodr += word;\n      }\n      if (this.isLastFrame) {\n        this.onRecordOver();\n      }\n    });\n  }\n\n  //录音结束\n  onRecordOver() {\n    this.isRecord = false;\n    this.isAnimotion = false;\n    uni.closeSocket();\n    this.getData();\n  }\n  //开始录音\n  async startRecord() {\n    if (this.isRecord || this.isAnimotion) {\n      return;\n    }\n    this.isAnimotion = true;\n    this.timer = setInterval(() => {\n      this.intervalTime += 0.5;\n      if (this.intervalTime >= 0.5 && !this.isRecord) {\n        uni.connectSocket({ url: this.getAuthStr() });\n        this.isRecord = true;\n        this.intervalTime = 0;\n        this.recorderManager.start(this.options);\n      }\n    }, 300);\n  }\n  //结束录音\n  endRecord() {\n    clearInterval(this.timer);\n    if (this.intervalTime <= 0.5) {\n      this.isAnimotion = false;\n      console.log(\"endRecord\");\n    }\n\n    if (this.isRecord) {\n      setTimeout(() => {\n        this.recorderManager.stop();\n      }, 300); //延迟小段时间停止录音, 更好的体验\n    }\n  }\n\n  // 鉴权签名\n  getAuthStr() {\n    let date = new Date().toUTCString();\n    let host = \"iat-api.xfyun.cn\";\n    let uri = \"/v2/iat\";\n    let signatureOrigin = `host: ${host}\\ndate: ${date}\\nGET ${uri} HTTP/1.1`;\n    let signatureSha = CryptoJS.HmacSHA256(\n      signatureOrigin,\n      this.xfInfo.apiSecret\n    );\n    let signature = CryptoJS.enc.Base64.stringify(signatureSha);\n    let authorizationOrigin = `api_key=\"${this.xfInfo.apiKey}\", algorithm=\"hmac-sha256\", headers=\"host date request-line\", signature=\"${signature}\"`;\n    let authStr = CryptoJS.enc.Base64.stringify(\n      CryptoJS.enc.Utf8.parse(authorizationOrigin)\n    );\n\n    let url = \"wss://iat-api.xfyun.cn/v2/iat\";\n    url = `${url}?authorization=${authStr}&date=${date}&host=${host}`;\n    return url;\n  }\n  //点击搜索\n  toSearch(search: string) {\n    this.searchWodr = search;\n    this.getData();\n  }\n  //历史跳转\n  toHistory() {\n    uni.navigateTo({\n      url: \"/pages/history/history\"\n    });\n  }\n}\n"],"sourceRoot":""}